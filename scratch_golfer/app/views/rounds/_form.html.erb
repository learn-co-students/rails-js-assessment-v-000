<%= form_for Round.new do |f| %>
<%= f.label :score %>
<%= f.text_field :score %>
<br></br>
<%= f.label :putts %>
<%= f.text_field :putts %>
<br></br>
<%= f.label :course %>
<%= f.collection_select :course_id, Course.all, :id, :name %>
<%= link_to "Don't see the course you played listed? Create a new course.", new_course_path %>
<br></br>
<%= f.submit %>
<% end %>

<script type="text/javascript">
      $(".new_round").on("submit", function(event) {
          event.preventDefault();


        var formData = {
          'score' : $('input[id=round_score]').val(),
          'putts' : $('input[id=round_putts]').val(),
          'course_id' : $('input[id=round_course_id]').val()
        };
              debugger // Need to determine how to pull the round_course_id data into the form.
        $.ajax({
          type : 'POST',
          url  :  '/rounds',
          data :  formData,
          dataType : 'json',
          encode: true
        })

        .done(function(data) {

              // log data to the console so we can see
              console.log(data);

              // here we will handle errors and validation messages
          });

      });
</script>
