<%= form_for Round.new do |f| %>
<%= f.label :score %>
<%= f.text_field :score %>
<br></br>
<%= f.label :putts %>
<%= f.text_field :putts %>
<br></br>
<%= f.label :course %>
<%= f.collection_select :course_id, Course.all, :id, :name %>
<%= link_to "Don't see the course you played listed? Create a new course.", new_course_path %>
<br></br>
<%= f.submit %>
<% end %>

<script type="text/javascript">
      $(".new_round").submit(function(event) {
          event.preventDefault();

          var $form = $(this);
          data = $form.serialize();

        $.ajax({
          type : 'POST',
          url  :  '/rounds',
          data :  data,
          datatype: "json",
          encode : true,
          success: function(data) {
            $("#round_info").append(`You've successfully added your round at ${data["course"]["name"]} where you shot a ${data["score"]}!`);
            $(".new_round").hide();
          }
        })

        .done(function(data) {
              // log data to the console so we can see
              console.log(data);
                // Question: Why can't I render data via my controller? It wants to refresh.

          });
      });
</script>
